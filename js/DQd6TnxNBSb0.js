!function(t){t.qtSMPO={sm:soundManager,playerCont:t("#qtmplayer"),soundId:"qtSoundId",init:function(){t.qtSMPO.playerCont.data("qtmplayer-smflash");return t.qtSMPO.sm.setup({useHighPerformance:!0,usePeakData:!0,forceUseGlobalHTML5Audio:!0,bufferTime:9e4,useHTML5Audio:!0}),!0},smPause:function(){t.qtSMPO.sm.pause(t.qtSMPO.soundId)},secondsTimeSpanToHMS:function(t){var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,n>=1?n+":"+(o<10?"0"+o:o)+":"+(t<10?"0"+t:t):(o<10?"0"+o:o)+":"+(t<10?"0"+t:t)},smStop:function(){t.qtSMPO;var n=t.qtSMPO.sm,o=t.qtSMPO.soundId,e=t.qtPlayerObj.interface;n.stop(o),n.destroySound(o),n.nowplaying=!1,e.timeupdate("00:00","00:00")},smPlay:function(){var n,o,e,a,s,u=t.qtSMPO,d=t.qtSMPO.sm,i=t.qtSMPO.soundId,r=t.qtPlayerObj,f=r.interface;d.nowplaying===r.songdata.file?d.play(i):(d.destroySound(i),d.nowplaying=r.songdata.file,d.sound=d.createSound({id:i,url:r.songdata.file,autoLoad:!0,autoPlay:!0,volume:90,onload:function(){},whileplaying:function(){o=d.sound.duration,e=d.sound.position,a=e/o,s=u.secondsTimeSpanToHMS(Math.round(d.sound.position/1e3)),o=u.secondsTimeSpanToHMS(Math.round(d.sound.duration/1e3)),f.timeupdate(a,s),t.qtRaphaelCircle.update(a),t.qtMplayerPlaylistCue.update(100*a)},onbufferchange:function(){if(d.sound.isBuffering)f.bufferStart();else{var o=u.secondsTimeSpanToHMS(Math.round(d.sound.duration/1e3));f.setDuration(o),f.bufferEnd(),n=d.sound.bytesLoaded/d.sound.bytesTotal,isNaN(n)?t.qtPlayerObj.interface.progressUpdate(0):t.qtPlayerObj.interface.progressUpdate(n)}},whileloading:function(){var n;0===(n=d.sound.bytesLoaded/d.sound.bytesTotal)&&(n=.1),t.qtPlayerObj.interface.progressUpdate(n)},onPosition:function(){},onfinish:function(){f.next()}}))},smSeek:function(n){if(void 0!==t.qtSMPO.sm.sound){var o,e=t.qtSMPO.sm.sound.duration*n/100,a=Math.round(t.qtSMPO.sm.sound.duration)/1e3/100*n,s=Math.floor(a/3600);a-=3600*s;var u=Math.floor(a/60);a-=60*u,o=(a=Math.round(a))>3600?s+":"+(u<10?"0"+u:u)+":"+(a<10?"0"+a:a):(u<10?"0"+u:u)+":"+(a<10?"0"+a:a),t.qtPlayerObj.interface.timeupdate(n/100,o),t.qtSMPO.sm.setPosition(t.qtSMPO.soundId,e)}},smSeekTime:function(n){var o=n.split(":"),e=1e3*(parseInt(3600*o[0])+parseInt(60*o[1])+parseInt(o[2])),a=e/t.qtSMPO.sm.sound.duration*100;t.qtPlayerObj.interface.timeupdate(a,n),t.qtSMPO.sm.setPosition(t.qtSMPO.soundId,e)}}}(jQuery);